!function(C){"use strict";C.breakingNews=function(e,t){var i={effect:"scroll",direction:"ltr",height:40,fontSize:"default",themeColor:"default",background:"default",borderWidth:1,radius:2,source:"html",play:!0,delayTimer:4e3,scrollSpeed:2,stopOnHover:!0,position:"auto",zIndex:99999},o=this;o.settings={};function l(){var e,t;0<d.length&&("rtl"==o.settings.direction?f.css({right:d.outerWidth()}):f.css({left:d.outerWidth()})),0<u.length&&(e=u.outerWidth(),"rtl"==o.settings.direction?f.css({left:e}):f.css({right:e})),"scroll"===o.settings.effect&&(t=0,h.each(function(){t+=C(this).outerWidth()}),t+=10,g.css({width:t}))}function s(){"rtl"===o.settings.direction?g.stop().animate({marginRight:-g.find("li:first-child").outerWidth()},300,function(){g.find("li:first-child").insertAfter(g.find("li:last-child")),g.css({marginRight:0}),k=!0}):g.stop().animate({marginLeft:-g.find("li:first-child").outerWidth()},300,function(){g.find("li:first-child").insertAfter(g.find("li:last-child")),g.css({marginLeft:0}),k=!0})}function n(){"rtl"===o.settings.direction?(0<=parseInt(g.css("marginRight"),10)&&(g.css({"margin-right":-g.find("li:last-child").outerWidth()}),g.find("li:last-child").insertBefore(g.find("li:first-child"))),g.stop().animate({marginRight:0},300,function(){k=!0})):(0<=parseInt(g.css("marginLeft"),10)&&(g.css({"margin-left":-g.find("li:last-child").outerWidth()}),g.find("li:last-child").insertBefore(g.find("li:first-child"))),g.stop().animate({marginLeft:0},300,function(){k=!0}))}var c=C(e),e=e,d=c.children(".inf-label"),f=c.children(".inf-ticker"),g=f.children("ul"),h=g.children("li"),u=c.children(".inf-controls"),p=u.find(".inf-prev").parent(),m=u.find(".inf-action").parent(),y=u.find(".inf-next").parent(),b=!1,k=!0,v=g.children("li").length,r=0,a=!1,w=function(){var e=parseFloat(g.css("marginLeft"));e-=o.settings.scrollSpeed/2,g.css({marginLeft:e}),e<=-g.find("li:first-child").outerWidth()&&(g.find("li:first-child").insertAfter(g.find("li:last-child")),g.css({marginLeft:0})),!1===b&&(window.requestAnimationFrame&&requestAnimationFrame(w)||setTimeout(w,16))},q=function(){var e=parseFloat(g.css("marginRight"));e-=o.settings.scrollSpeed/2,g.css({marginRight:e}),e<=-g.find("li:first-child").outerWidth()&&(g.find("li:first-child").insertAfter(g.find("li:last-child")),g.css({marginRight:0})),!1===b&&(window.requestAnimationFrame&&requestAnimationFrame(q)||setTimeout(q,16))},W=function(){switch(k=!0,o.settings.effect){case"typography":g.find("li").hide(),g.find("li").eq(r).width(30).show(),g.find("li").eq(r).animate({width:"100%",opacity:1},1500);break;case"fade":g.find("li").hide(),g.find("li").eq(r).fadeIn();break;case"slide-down":g.find("li:visible").animate({top:30,opacity:0},300,function(){C(this).hide()}),g.find("li").eq(r).css({top:-30,opacity:0}).show(),g.find("li").eq(r).animate({top:0,opacity:1},300);break;case"slide-up":g.find("li:visible").animate({top:-30,opacity:0},300,function(){C(this).hide()}),g.find("li").eq(r).css({top:30,opacity:0}).show(),g.find("li").eq(r).animate({top:0,opacity:1},300);break;case"slide-left":g.find("li:visible").animate({left:"50%",opacity:0},300,function(){C(this).hide()}),g.find("li").eq(r).css({left:-50,opacity:0}).show(),g.find("li").eq(r).animate({left:0,opacity:1},300);break;case"slide-right":g.find("li:visible").animate({left:"-50%",opacity:0},300,function(){C(this).hide()}),g.find("li").eq(r).css({left:"50%",opacity:0}).show(),g.find("li").eq(r).animate({left:0,opacity:1},300);break;default:g.find("li").hide(),g.find("li").eq(r).show()}},x=function(){if(b=!1,o.settings.play)switch(o.settings.effect){case"scroll":("rtl"===o.settings.direction?q:w)();break;default:o.pause(),a=setInterval(function(){o.next()},o.settings.delayTimer)}};o.init=function(){if(o.settings=C.extend({},i,t),"fixed-top"===o.settings.position?c.addClass("inf-fixed-top").css({"z-index":o.settings.zIndex}):"fixed-bottom"===o.settings.position&&c.addClass("inf-fixed-bottom").css({"z-index":o.settings.zIndex}),"default"!=o.settings.fontSize&&c.css({"font-size":o.settings.fontSize}),"default"!=o.settings.themeColor&&(c.css({"border-color":o.settings.themeColor,color:o.settings.themeColor}),d.css({background:o.settings.themeColor})),"default"!=o.settings.background&&c.css({background:o.settings.background}),c.css({height:o.settings.height,"line-height":o.settings.height-2*o.settings.borderWidth+"px","border-radius":o.settings.radius,"border-width":o.settings.borderWidth}),h.find(".inf-seperator").css({height:o.settings.height-2*o.settings.borderWidth}),c.addClass("inf-effect-"+o.settings.effect+" inf-direction-"+o.settings.direction),l(),"object"==typeof o.settings.source)switch(o.settings.source.type){case"rss":"rss2json"===o.settings.source.usingApi?((a=new XMLHttpRequest).onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=JSON.parse(a.responseText),t="",i="";switch(o.settings.source.showingField){case"title":i="title";break;case"description":i="description";break;case"link":i="link";break;default:i="title"}var s="";void 0!==o.settings.source.seperator&&(o.settings.source.seperator,1)&&(s=o.settings.source.seperator);for(var n=0;n<e.items.length;n++)o.settings.source.linkEnabled?t+='<li><a target="'+o.settings.source.target+'" href="'+e.items[n].link+'">'+s+e.items[n][i]+"</a></li>":t+="<li><a>"+s+e.items[n][i]+"</a></li>";g.empty().append(t),h=g.children("li"),v=g.children("li").length,l(),"scroll"!=o.settings.effect&&W(),h.find(".inf-seperator").css({height:o.settings.height-2*o.settings.borderWidth}),x()}},a.open("GET","https://api.rss2json.com/v1/api.json?rss_url="+o.settings.source.url,!0),a.send()):((r=new XMLHttpRequest).open("GET","https://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent('select * from rss where url="'+o.settings.source.url+'" limit '+o.settings.source.limit)+"&format=json",!0),r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){var e=JSON.parse(r.responseText),t="",i="";switch(o.settings.source.showingField){case"title":i="title";break;case"description":i="description";break;case"link":i="link";break;default:i="title"}var s="";"undefined"!=o.settings.source.seperator&&void 0!==o.settings.source.seperator&&(s=o.settings.source.seperator);for(var n=0;n<e.query.results.item.length;n++)o.settings.source.linkEnabled?t+='<li><a target="'+o.settings.source.target+'" href="'+e.query.results.item[n].link+'">'+s+e.query.results.item[n][i]+"</a></li>":t+="<li><a>"+s+e.query.results.item[n][i]+"</a></li>";g.empty().append(t),h=g.children("li"),v=g.children("li").length,l(),"scroll"!=o.settings.effect&&W(),h.find(".inf-seperator").css({height:o.settings.height-2*o.settings.borderWidth}),x()}else g.empty().append('<li><span class="inf-loader-text">'+o.settings.source.errorMsg+"</span></li>")},r.send(null));break;case"json":C.getJSON(o.settings.source.url,function(e){var t="",i="",i="undefined"===o.settings.source.showingField?"title":o.settings.source.showingField,s="";void 0!==o.settings.source.seperator&&(o.settings.source.seperator,1)&&(s=o.settings.source.seperator);for(var n=0;n<e.length&&!(n>=o.settings.source.limit);n++)o.settings.source.linkEnabled?t+='<li><a target="'+o.settings.source.target+'" href="'+e[n].link+'">'+s+e[n][i]+"</a></li>":t+="<li><a>"+s+e[n][i]+"</a></li>","undefined"===e[n][i]&&console.log('"'+i+'" does not exist in this json.');g.empty().append(t),h=g.children("li"),v=g.children("li").length,l(),"scroll"!=o.settings.effect&&W(),h.find(".inf-seperator").css({height:o.settings.height-2*o.settings.borderWidth}),x()});break;default:console.log('Please check your "source" object parameter. Incorrect Value')}else"html"===o.settings.source?("scroll"!=o.settings.effect&&W(),x()):console.log('Please check your "source" parameter. Incorrect Value');var r,a;o.settings.play?m.find("span").removeClass("inf-play").addClass("inf-pause"):m.find("span").removeClass("inf-pause").addClass("inf-play"),c.on("mouseleave",function(e){var t=C(document.elementFromPoint(e.clientX,e.clientY)).parents(".inf-news-ticker")[0];C(this)[0]!==t&&(!0===o.settings.stopOnHover?!0===o.settings.play&&o.play():!0===o.settings.play&&!0===b&&o.play())}),c.on("mouseenter",function(){!0===o.settings.stopOnHover&&o.pause()}),y.on("click",function(){k&&(k=!1,o.pause(),o.next())}),p.on("click",function(){k&&(k=!1,o.pause(),o.prev())}),m.on("click",function(){k&&(m.find("span").hasClass("inf-pause")?(m.find("span").removeClass("inf-pause").addClass("inf-play"),o.stop()):(o.settings.play=!0,m.find("span").removeClass("inf-play").addClass("inf-pause")))}),C(window).on("resize",function(){var e;0<d.length&&("rtl"==o.settings.direction?f.css({right:d.outerWidth()}):f.css({left:d.outerWidth()})),0<u.length&&(e=u.outerWidth(),"rtl"==o.settings.direction?f.css({left:e}):f.css({right:e}))})},o.pause=function(){b=!0,clearInterval(a)},o.stop=function(){b=!0,o.settings.play=!1},o.play=function(){x()},o.next=function(){!function(){switch(o.settings.effect){case"scroll":s();break;default:v<=++r&&(r=0),W()}}()},o.prev=function(){!function(){switch(o.settings.effect){case"scroll":n();break;default:--r<0&&(r=v-1),W()}}()},o.init()},C.fn.breakingNews=function(t){return this.each(function(){var e;null==C(this).data("breakingNews")&&(e=new C.breakingNews(this,t),C(this).data("breakingNews",e))})}}(jQuery);